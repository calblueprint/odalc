/*! jQuery confirmOn Plugin v0.1.3 https://github.com/invetek/jquery-confirmOn (c) 2013 Loran Kloeze - Invetek | Released under the MIT license */
(function(e){var t=e.confirmOn={};t.providedOptions={};t.defaultSettings={questionText:"Are you sure?",classPrepend:"confirmon",textYes:"Yes",textNo:"No"};t.overrideDefaultSettings=function(n){t.defaultSettings=e.extend({},t.defaultSettings,n)};t.setOptions=function(n,r){r=e.extend({},t.defaultSettings,r);n.data("confirmon",{options:r})};t.createOverlay=function(t){var n=t.data("confirmon").options.classPrepend;return e("<div/>").addClass(n+"-overlay").hide().appendTo("body")};t.showOverlay=function(t){var n=t.data("confirmon").options.classPrepend;e("."+n+"-overlay").fadeIn()};t.deleteOverlay=function(t){var n=t.data("confirmon").options.classPrepend;e("."+n+"-overlay").fadeOut(function(){e(this).remove()})};t.createBox=function(t){var n=t.data("confirmon").options.classPrepend;var r=t.data("confirmon").options.questionText;var i=t.data("confirmon").options.textYes;var s=t.data("confirmon").options.textNo;var o=e("<div/>").addClass(n+"-box").hide().appendTo("body");e('<p class="'+n+'-content"/>').html(r).appendTo(o);e('<button class="'+n+"-button "+n+'-button--yes"/>').html(i).appendTo(o);e('<button class="'+n+"-button "+n+'-button--no"/>').html(s).appendTo(o);e("."+n+"-button").on("keydown",function(t){if(t.which===9){t.preventDefault();e("."+n+"-button").not(this).focus()}})};t.showBoxAndFocusNo=function(t){var n=t.data("confirmon").options.classPrepend;e("."+n+"-box").fadeIn(function(){e(this).children("button").eq(1).focus()})};t.deleteBox=function(t){var n=t.data("confirmon").options.classPrepend;e("."+n+"-box").fadeOut(function(){e(this).remove()})};e.confirmOn.handleEscKey=function(t){e(document).on("keydown.confirmon.close",function(n){if(n.which===27){e.confirmOn.deleteOverlay(t);e.confirmOn.deleteBox(t);e(document).off("keydown.confirmon.close")}})};t.convertArguments=function(n,r,i,s,o){if(typeof n==="object"){e.each(n,function(e,u){if(typeof u==="string"){t.providedOptions=n;n=r;r=i;i=s;s=o;return false}else{t.providedOptions={}}})}else{t.providedOptions={}}if(i==null&&s==null&&o==null){i=r;r=n}else if(s==null&&o==null){s=i;i=r;r=n}else{o=s;s=i;i=r;r=n}if(typeof r==="object"){return{events:r,selector:i,data:s}}else{return{events:r,selector:i,data:s,handler:o}}};e.confirmOn.attachHandlers=function(t,n,r){var i=t.data("confirmon").options.classPrepend;e("."+i+"-box button").eq(0).on("click",function(){e.confirmOn.deleteOverlay(t);e.confirmOn.deleteBox(t);n.call(t.get(),r,true)});e("."+i+"-box button").eq(1).on("click",function(){e.confirmOn.deleteOverlay(t);e.confirmOn.deleteBox(t);n.call(t.get(),r,false)})};e.fn.confirmOn=function(t,n,r,i,s){function f(t){t.preventDefault();e.confirmOn.createOverlay(u);e.confirmOn.showOverlay(u);e.confirmOn.createBox(u);e.confirmOn.showBoxAndFocusNo(u);e.confirmOn.handleEscKey(u);e.confirmOn.attachHandlers(u,o,t)}var o;if(typeof n==="function"){o=n;n=f}else if(typeof r==="function"){o=r;r=f}else if(typeof i==="function"){o=i;i=f}else if(typeof s==="function"){o=s;s=f}var u=e(this);var a=e.confirmOn.convertArguments(t,n,r,i,s);e.confirmOn.setOptions(u,e.confirmOn.providedOptions);u.on(a.events,a.selector,a.data,a.handler);}})(jQuery)